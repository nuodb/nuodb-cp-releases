:revnumber: 2.4.0
:toc: left

[#nuodb-cp]
= nuodb-cp

Command-line interface for the NuoDB Control Plane REST Service

....
nuodb-cp [-hV] [backup
               |database
               |project
               |user
               |httpclient
               |server
               |k8s
               |generate-completion
               |generate-doc]
....

[cols="1,3"]
|===
|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#backup]
== backup

Inspect and manage backups using the DBaaS REST service

....
nuodb-cp backup [-hV] [list
                      |get
                      |create
                      |update
                      |delete]
....

[cols="1,3"]
|===
|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#backup-list]
=== list

List backups

....
nuodb-cp backup list [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                     [--trusted-cert=<trustedCert>] [-l=<labelFilter>]...
                     [--list-accessible] RESOURCE
....

[cols="1,3"]
|===
|`RESOURCE`
|The fully-qualified name of the resource containing backups to list, e.g. `<organization>/<project>/<database>` for a database, `<organization>/<project>` for a project, `<organization>` for an organization, or `/` to list backups across all organizations

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-l, --label-filter`
|Filter to apply based on labels

|`--list-accessible`
|Whether to return any accessible sub-resources even if the current user does not have access privileges to list all resources at this level

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#backup-get]
=== get

Get an existing backup

....
nuodb-cp backup get [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                    [--trusted-cert=<trustedCert>] BACKUP
....

[cols="1,3"]
|===
|`BACKUP`
|The fully-qualified name of the backup in the format `<organization>/<project>/<database>/<backup>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#backup-create]
=== create

Create a new backup

....
nuodb-cp backup create [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                       [--trusted-cert=<trustedCert>] [-l=<String=String>]...
                       [--import-source-handle=<backupHandle>]
                       [--import-source-plugin=<backupPlugin>] BACKUP BACKUP
....

[cols="1,3"]
|===
|`BACKUP`
|The fully-qualified name of the backup in the format `<organization>/<project>/<database>/<backup>`

|`BACKUP`
|The fully-qualified name of the backup to create in the format `<organization>/<project>/<database>/<backup>`, or the database name in the format `<organization>/<project>/<database>` for an on-demand backup

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-l, --label`
|Label to attach to resource

|`--import-source-handle`
|The existing backup handle to import

|`--import-source-plugin`
|The plugin used to create the backup to import

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#backup-update]
=== update

Update an existing backup

....
nuodb-cp backup update [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                       [--trusted-cert=<trustedCert>] [--editor=<editor>] BACKUP
....

[cols="1,3"]
|===
|`BACKUP`
|The fully-qualified name of the backup in the format `<organization>/<project>/<database>/<backup>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`--editor`
|The editor to use to update the resource +
*default*: `${NUODB_CP_EDITOR:-vi}`

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#backup-delete]
=== delete

Delete an existing backup

....
nuodb-cp backup delete [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                       [--trusted-cert=<trustedCert>] [--timeout=<timeout>]
                       BACKUP
....

[cols="1,3"]
|===
|`BACKUP`
|The fully-qualified name of the backup in the format `<organization>/<project>/<database>/<backup>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`--timeout`
|The number of seconds to wait for the deletion to be finalized, unless 0 is specified which indicates not to wait

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#database]
== database

Inspect and manage databases using the DBaaS REST service

....
nuodb-cp database [-hV] [list
                        |get
                        |create
                        |update
                        |delete
                        |connect]
....

[cols="1,3"]
|===
|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#database-list]
=== list

List databases

....
nuodb-cp database list [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                       [--trusted-cert=<trustedCert>] [-l=<labelFilter>]...
                       [--list-accessible] RESOURCE
....

[cols="1,3"]
|===
|`RESOURCE`
|The fully-qualified name of the resource containing databases to list, e.g. `<organization>/<project>` for a project, `<organization>` for an organization, or `/` to list databases across all organizations

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-l, --label-filter`
|Filter to apply based on labels

|`--list-accessible`
|Whether to return any accessible sub-resources even if the current user does not have access privileges to list all resources at this level

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#database-get]
=== get

Get an existing database

....
nuodb-cp database get [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                      [--trusted-cert=<trustedCert>] DATABASE
....

[cols="1,3"]
|===
|`DATABASE`
|The fully-qualified name of the database in the format `<organization>/<project>/<database>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#database-create]
=== create

Create a new database

....
nuodb-cp database create [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                         [--trusted-cert=<trustedCert>] [-l=<String=String>]...
                         [--dba-password[=<dbaPassword>]] [--tier=<tier>]
                         [--expires-in=<expiresIn>] [--disabled]
                         [--archive-size=<archiveSize>]
                         [--journal-size=<journalSize>]
                         [--tier-param=<String=String>]...
                         [--inherit-tier-params]
                         [--product-version=<productVersion>] DATABASE
....

[cols="1,3"]
|===
|`DATABASE`
|The fully-qualified name of the database in the format `<organization>/<project>/<database>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-l, --label`
|Label to attach to resource

|`--dba-password`
|The password for the DBA user

|`--tier`
|The tier for the database

|`--expires-in`
|Set the database to expire after elapsed time

|`--disabled`
|Set the database as disabled

|`--archive-size`
|The size of database archives

|`--journal-size`
|The size of database journals

|`--tier-param`
|Opaque parameter supplied to service tier

|`--inherit-tier-params`
|Whether to inherit tier parameters from the project if the database service tier matches the project.

|`--product-version`
|The version/tag of the NuoDB image to use. For available tags, see https://hub.docker.com/r/nuodb/nuodb-ce/tags. If omitted, the database version will be inherited from the project.

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#database-update]
=== update

Update an existing database

....
nuodb-cp database update [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                         [--trusted-cert=<trustedCert>] [--editor=<editor>]
                         DATABASE
....

[cols="1,3"]
|===
|`DATABASE`
|The fully-qualified name of the database in the format `<organization>/<project>/<database>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`--editor`
|The editor to use to update the resource +
*default*: `${NUODB_CP_EDITOR:-vi}`

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#database-delete]
=== delete

Delete an existing database

....
nuodb-cp database delete [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                         [--trusted-cert=<trustedCert>] [--timeout=<timeout>]
                         DATABASE
....

[cols="1,3"]
|===
|`DATABASE`
|The fully-qualified name of the database in the format `<organization>/<project>/<database>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`--timeout`
|The number of seconds to wait for the deletion to be finalized, unless 0 is specified which indicates not to wait

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#database-connect]
=== connect

Connect to a database

....
nuodb-cp database connect [-sShV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                          [--trusted-cert=<trustedCert>] --db-user=<dbUser>
                          [--db-password[=<dbPassword>]]
                          [--ingress-port=<ingressPort>]
                          [-P=<String=String>]... [-t=<truststore>]
                          [--truststore-password=<truststorePassword>]
                          [-o=<outputFormat>] [-i=<inputFile> | -I=<input>]
                          DATABASE
....

[cols="1,3"]
|===
|`DATABASE`
|The fully-qualified name of the database in the format `<organization>/<project>/<database>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`--db-user`
|The name of the database user +
*default*: `${NUODB_CP_DB_USER}`

|`--db-password`
|The password to authenticate the database user

|`--ingress-port`
|The port for the ingress load balancer enabling database connectivity +
*default*: `${NUODB_CP_INGRESS_PORT}`

|`-P, --property`
|A connection property

|`-t, --truststore`
|The path of the truststore to create from the CA PEM of the database response. If not specified, the truststore will be created in a temporary location. If a truststore already exists at the specified location, it will be used instead of a newly created one.

|`--truststore-password`
|The password to use for integrity checks of the truststore +
*default*: `changeIt`

|`-o, --output-format`
|The format to display results when executing in non-interactive mode +
*default*: `csv`

|`-s, --show`
|Show the URL and connection properties

|`-S, --show-only`
|Show the URL and connection properties without connecting to the database

|`-i, --input-file`
|File containing SQL statements to execute in non-interactive mode +
*required*

|`-I, --input`
|SQL statements to execute in non-interactive mode +
*required*

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#project]
== project

Inspect and manage projects using the DBaaS REST service

....
nuodb-cp project [-hV] [list
                       |get
                       |create
                       |update
                       |delete]
....

[cols="1,3"]
|===
|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#project-list]
=== list

List projects

....
nuodb-cp project list [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                      [--trusted-cert=<trustedCert>] [-l=<labelFilter>]...
                      [--list-accessible] ORGANIZATION
....

[cols="1,3"]
|===
|`ORGANIZATION`
|The name of the organization, or `/` to list projects across all organizations

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-l, --label-filter`
|Filter to apply based on labels

|`--list-accessible`
|Whether to return any accessible sub-resources even if the current user does not have access privileges to list all resources at this level

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#project-get]
=== get

Get an existing project

....
nuodb-cp project get [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                     [--trusted-cert=<trustedCert>] PROJECT
....

[cols="1,3"]
|===
|`PROJECT`
|The fully-qualified name of the project in the format `<organization>/<project>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#project-create]
=== create

Create a new project

....
nuodb-cp project create [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                        [--trusted-cert=<trustedCert>] [-l=<String=String>]...
                        --sla=<sla> --tier=<tier>
                        [--tier-param=<String=String>]...
                        [--product-version=<productVersion>]
                        [--expires-in=<expiresIn>] [--disabled] PROJECT
....

[cols="1,3"]
|===
|`PROJECT`
|The fully-qualified name of the project in the format `<organization>/<project>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-l, --label`
|Label to attach to resource

|`--sla`
|The SLA for the project +
*required*

|`--tier`
|The tier for the project +
*required*

|`--tier-param`
|Opaque parameter supplied to service tier

|`--product-version`
|The version/tag of the NuoDB image to use. For available tags, see https://hub.docker.com/r/nuodb/nuodb-ce/tags. If omitted, the project version will be resolved based on the SLA and cluster configuration.

|`--expires-in`
|Set the database to expire after elapsed time

|`--disabled`
|Set the database as disabled

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#project-update]
=== update

Update an existing project

....
nuodb-cp project update [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                        [--trusted-cert=<trustedCert>] [--editor=<editor>]
                        PROJECT
....

[cols="1,3"]
|===
|`PROJECT`
|The fully-qualified name of the project in the format `<organization>/<project>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`--editor`
|The editor to use to update the resource +
*default*: `${NUODB_CP_EDITOR:-vi}`

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#project-delete]
=== delete

Delete an existing project

....
nuodb-cp project delete [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                        [--trusted-cert=<trustedCert>] [--timeout=<timeout>]
                        PROJECT
....

[cols="1,3"]
|===
|`PROJECT`
|The fully-qualified name of the project in the format `<organization>/<project>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`--timeout`
|The number of seconds to wait for the deletion to be finalized, unless 0 is specified which indicates not to wait

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#user]
== user

Inspect and manage users using the DBaaS REST service

....
nuodb-cp user [-hV] [list
                    |get
                    |create
                    |update
                    |delete]
....

[cols="1,3"]
|===
|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#user-list]
=== list

List users

....
nuodb-cp user list [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                   [--trusted-cert=<trustedCert>] [-l=<labelFilter>]...
                   [--list-accessible] ORGANIZATION
....

[cols="1,3"]
|===
|`ORGANIZATION`
|The name of the organization, or `/` to list users across all organizations

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-l, --label-filter`
|Filter to apply based on labels

|`--list-accessible`
|Whether to return any accessible sub-resources even if the current user does not have access privileges to list all resources at this level

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#user-get]
=== get

Get an existing user

....
nuodb-cp user get [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                  [--trusted-cert=<trustedCert>] USER
....

[cols="1,3"]
|===
|`USER`
|The fully-qualified name of the USER in the format `<organization>/<user>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#user-create]
=== create

Create a new user

....
nuodb-cp user create [-XhV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                     [--trusted-cert=<trustedCert>] [-l=<String=String>]... [-P
                     [=<password>]] [-a=<allow>]... [-d=<deny>]... USER
....

[cols="1,3"]
|===
|`USER`
|The fully-qualified name of the USER in the format `<organization>/<user>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-l, --label`
|Label to attach to resource

|`-P, --user-password`
|The password for the user to create

|`-a, --allow`
|A rule entry that grants access to the user

|`-d, --deny`
|A rule entry that denies access to the user

|`-X, --allow-cross-organization`
|Allow user to have access outside of its organization

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#user-update]
=== update

Update an existing user

....
nuodb-cp user update [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                     [--trusted-cert=<trustedCert>] [--editor=<editor>] USER
....

[cols="1,3"]
|===
|`USER`
|The fully-qualified name of the USER in the format `<organization>/<user>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`--editor`
|The editor to use to update the resource +
*default*: `${NUODB_CP_EDITOR:-vi}`

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#user-delete]
=== delete

Delete an existing user

....
nuodb-cp user delete [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                     [--trusted-cert=<trustedCert>] [--timeout=<timeout>] USER
....

[cols="1,3"]
|===
|`USER`
|The fully-qualified name of the USER in the format `<organization>/<user>`

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`--timeout`
|The number of seconds to wait for the deletion to be finalized, unless 0 is specified which indicates not to wait

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#httpclient]
== httpclient

Issue an HTTP/REST request

....
nuodb-cp httpclient [-hV] [-b=<urlBase>] [-u=<user>] [-p[=<password>]]
                    [--trusted-cert=<trustedCert>] [-q=<String=String>]...
                    [-d=<data>] [-j=<jsonPath>] [--full-response]
                    [--pretty-print] METHOD PATH...
....

[cols="1,3"]
|===
|`METHOD`
|The request method

|`PATH`
|The resource path

|`-b, --url-base`
|The base URL for the server, including the protocol +
*default*: `${NUODB_CP_URL_BASE:-http://localhost:8080}`

|`-u, --user`
|The name of the user issuing the request +
*default*: `${NUODB_CP_USER}`

|`-p, --password`
|The password to authenticate the user +
*default*: `${NUODB_CP_PASSWORD}`

|`--trusted-cert`
|The certificate used to verify the HTTPS server in PEM format +
*default*: `${NUODB_CP_TRUSTED_CERT}`

|`-q, --query-param`
|A query parameter to supply

|`-d, --data`
|The request data to supply

|`-j, --jsonpath`
|The JSONPath expression to apply to the response payload

|`--full-response`
|Whether to show the response headers and status code

|`--pretty-print`
|Whether to pretty print the response payload

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#server]
== server

Server-related subcommands

....
nuodb-cp server [-hV] [start
                      |get-spec]
....

[cols="1,3"]
|===
|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#server-start]
=== start

Start the REST server

....
nuodb-cp server start [-hV] [-p=<String=String>]...
....

[cols="1,3"]
|===
|`-p, --property`
|A server property override

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#server-get-spec]
=== get-spec

Get OpenAPI spec for REST API

....
nuodb-cp server get-spec [-hV] [-u=<url>] [-f=<format>]
....

[cols="1,3"]
|===
|`-u, --url`
|The URL for the server in the generated spec

|`-f, --format`
|The output format to use +
*default*: `json`

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#k8s]
== k8s

Inspect and manage Kubernetes state for the NuoDB Control Plane

....
nuodb-cp k8s [-hV] [generate-tls
                   |create-user
                   |rotate-dba-creds]
....

[cols="1,3"]
|===
|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#k8s-generate-tls]
=== generate-tls

Generate TLS keys and certificates for a NuoDB project

....
nuodb-cp k8s generate-tls [-chV] [-e=<endpoint>] [-t[=<truststorePassword>]] [-k
                          [=<keystorePassword>]] [--key-strength=<keyStrength>]
                          [--key-type=<keyType>] [--validity=<daysValid>]
                          ORGANIZATION PROJECT
....

[cols="1,3"]
|===
|`ORGANIZATION`
|The name of the organization containing the project to generate TLS key data for

|`PROJECT`
|The name of the project to generate TLS key data for

|`-e, --endpoint`
|Endpoint for SQL clients, which will be used as the Common Name (CN) attribute in the certificate

|`-t, --truststore-password`
|The password used to verify the integrity of the truststore

|`-k, --keystore-password`
|The password used to encrypt the keystore

|`--key-strength`
|The strength of the key-pairs to generate +
*default*: `MEDIUM`

|`--key-type, --key-algorithm`
|The asymmetric encryption algorithm to use +
*default*: `RSA`

|`--days-valid, --validity`
|The number of days for generated certificates to be valid +
*default*: `365`

|`-c, --create-secret`
|Whether to create the Kubernetes secret resource in configured cluster

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#k8s-create-user]
=== create-user

Create a user secret resource for the NuoDB Control Plane REST service

....
nuodb-cp k8s create-user [-chV] [--password[=<password>]] -p=<project> [-ap
                         [=<authorizedProjects>...]]... [-ao
                         [=<authorizedOrganizations>...]]... [--plain-password]
                         ORGANIZATION USER
....

[cols="1,3"]
|===
|`ORGANIZATION`
|The name of the organization the user will belong to

|`USER`
|The name of the user

|`--password`
|The password for the user

|`-p, --project`
|The project the user will be authorized to access +
*required*

|`-ap, --authorized-projects`
|Additional projects the user will be authorized to access

|`-ao, --authorized-organizations`
|Additional organizations the user will be authorized to access

|`-c, --create-secret`
|Whether to create the Kubernetes secret resource in configured cluster that defines the user

|`--plain-password`
|Whether to serialize password as plaintext rather than serializing a salted hash of the password

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#k8s-rotate-dba-creds]
=== rotate-dba-creds

Rotate DBA credentials for a NuoDB database

....
nuodb-cp k8s rotate-dba-creds [-hV] [--dba-password[=<dbaPassword>]]
                              [--finalize] ORGANIZATION PROJECT DATABASE
....

[cols="1,3"]
|===
|`ORGANIZATION`
|The name of the organization for the target database

|`PROJECT`
|The name of the project for the target database

|`DATABASE`
|The name of the database which credentials are being rotated

|`--dba-password`
|The target password for the DBA user

|`--finalize`
|Finalize database DBA password rotation to make the target DBA password current

|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#generate-completion]
== generate-completion

Generate Bash or Zsh completion script for nuodb-cp

....
nuodb-cp generate-completion [-hV]
....

[cols="1,3"]
|===
|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

[#generate-doc]
== generate-doc

Generate documentation for nuodb-cp in Asciidoc format

....
nuodb-cp generate-doc [-hV]
....

[cols="1,3"]
|===
|`-h, --help`
|Show this help message and exit.

|`-V, --version`
|Print version information and exit.

|===

